import React, { forwardRef } from 'react';\nimport { motion } from 'framer-motion';\n\nexport interface FormInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  touched?: boolean;\n  helperText?: string;\n  required?: boolean;\n  icon?: React.ReactNode;\n  variant?: 'default' | 'filled' | 'outlined';\n  size?: 'sm' | 'md' | 'lg';\n  disabled?: boolean;\n  loading?: boolean;\n}\n\n/**\n * Accessible form input component with real-time validation feedback\n * Supports WCAG 2.1 AA accessibility standards\n */\nexport const FormInput = forwardRef<HTMLInputElement, FormInputProps>(\n  (\n    {\n      label,\n      error,\n      touched,\n      helperText,\n      required,\n      icon,\n      variant = 'default',\n      size = 'md',\n      disabled,\n      loading,\n      id,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;\n    const hasError = touched && error;\n\n    const sizeClasses = {\n      sm: 'px-2 py-1 text-sm',\n      md: 'px-3 py-2 text-base',\n      lg: 'px-4 py-3 text-lg',\n    };\n\n    const variantClasses = {\n      default: 'border border-border rounded-md bg-background',\n      filled: 'bg-muted border-b-2 border-muted rounded-t-md',\n      outlined: 'border-2 border-border rounded-lg',\n    };\n\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: -10 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.2 }}\n        className=\"w-full\"\n      >\n        {label && (\n          <label\n            htmlFor={inputId}\n            className=\"block text-sm font-medium text-foreground mb-2\"\n          >\n            {label}\n            {required && <span className=\"text-destructive ml-1\">*</span>}\n          </label>\n        )}\n\n        <div className=\"relative\">\n          {icon && (\n            <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none\">\n              {icon}\n            </div>\n          )}\n\n          <input\n            ref={ref}\n            id={inputId}\n            disabled={disabled || loading}\n            aria-invalid={hasError ? 'true' : 'false'}\n            aria-describedby={hasError ? `${inputId}-error` : helperText ? `${inputId}-helper` : undefined}\n            aria-required={required}\n            className={`\n              w-full transition-all duration-200\n              focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2\n              disabled:opacity-50 disabled:cursor-not-allowed\n              ${sizeClasses[size]}\n              ${variantClasses[variant]}\n              ${icon ? 'pl-10' : ''}\n              ${hasError ? 'border-destructive focus:ring-destructive' : ''}\n              ${loading ? 'opacity-50' : ''}\n              ${className || ''}\n            `}\n            {...props}\n          />\n\n          {loading && (\n            <div className=\"absolute right-3 top-1/2 -translate-y-1/2\">\n              <div className=\"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full\" />\n            </div>\n          )}\n        </div>\n\n        {hasError && (\n          <motion.p\n            id={`${inputId}-error`}\n            initial={{ opacity: 0, y: -5 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-sm text-destructive mt-1 flex items-center gap-1\"\n            role=\"alert\"\n          >\n            <span className=\"text-destructive\">âš </span>\n            {error}\n          </motion.p>\n        )}\n\n        {!hasError && helperText && (\n          <p\n            id={`${inputId}-helper`}\n            className=\"text-sm text-muted-foreground mt-1\"\n          >\n            {helperText}\n          </p>\n        )}\n      </motion.div>\n    );\n  }\n);\n\nFormInput.displayName = 'FormInput';\n
